---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Preloader from '@/components/Preloader.astro';
import HeroSection from '@/components/HeroSection.astro';
import { getLangFromUrl, useTranslations } from '@/i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// URLs de mídia (mesmas do HeroSection)
const videoUrl =
  import.meta.env.PUBLIC_CLOUDINARY_VIDEO_URL ||
  'https://res.cloudinary.com/dazkdemvu/video/upload/v1768415565/stl-festival/videos/hero.mp4';
const fallbackImage =
  import.meta.env.PUBLIC_FALLBACK_IMAGE_URL ||
  '/assets/images/fallbacks/herosection.jpg';
---

<BaseLayout title={t('meta.title')} description={t('meta.description')}>
  <Preloader videoUrl={videoUrl} fallbackImage={fallbackImage} />
  <HeroSection videoUrl={videoUrl} fallbackImage={fallbackImage} />

  <!-- Placeholder para próximas secciones -->
  <section
    id="lineup"
    style="min-height: 100vh; display: flex; align-items: center; justify-content: center; background: var(--color-cream);"
  >
    <div class="container">
      <h2
        style="font-family: var(--font-heading); font-size: 3rem; text-align: center;"
      >
        Lineup próximamente...
      </h2>
    </div>
  </section>
</BaseLayout>
