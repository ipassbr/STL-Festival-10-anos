---
alwaysApply: true
---

================================================================================
rule-10-design-system-tokens.md
LEI 10: Design System & Design Tokens
================================================================================

MOTIVO:
O projeto tem identidade visual forte (paleta reggae verde/laranja/creme, tipografia
Jairo + Superbusy Activity) que DEVE ser consistente em todas as páginas. Sem tokens
centralizados, valores hardcoded se espalham pelo código criando inconsistências,
dificultando manutenção e quebrando a identidade visual.

GATILHO:
Ativado ao criar componentes com cores, tipografia, espaçamento, bordas,
sombras, ou qualquer propriedade visual. Também ao criar novos estilos CSS
ou classes Tailwind customizadas.

TOKENS OBRIGATÓRIOS:
Todos os valores de design DEVEM vir de tokens CSS definidos em um único arquivo
de configuração. NUNCA hardcode valores visuais diretamente em componentes.

```css
/* src/styles/tokens.css */
:root {
  /* ==================== CORES ==================== */
  /* Primárias */
  --color-verde-reggae: #006a47;      /* Verde principal */
  --color-laranja-energia: #ff4d2d;   /* Laranja vibrante */
  --color-creme-base: #fefbdf;        /* Creme background */
  --color-azul-indigo: #1e1876;       /* Azul profundo */
  --color-amarelo-sol: #ffcf00;       /* Amarelo destaque */
  
  /* Neutras */
  --color-preto: #0a0a0a;
  --color-cinza-escuro: #2d2d2d;
  --color-cinza-medio: #6b6b6b;
  --color-cinza-claro: #d9d9d9;
  --color-branco: #ffffff;
  
  /* Semânticas */
  --color-success: var(--color-verde-reggae);
  --color-error: #e63946;
  --color-warning: var(--color-amarelo-sol);
  --color-info: var(--color-azul-indigo);
  
  /* Backgrounds */
  --bg-primary: var(--color-creme-base);
  --bg-secondary: var(--color-verde-reggae);
  --bg-accent: var(--color-laranja-energia);
  --bg-dark: var(--color-preto);
  
  /* Text */
  --text-primary: var(--color-preto);
  --text-secondary: var(--color-cinza-escuro);
  --text-muted: var(--color-cinza-medio);
  --text-inverse: var(--color-creme-base);
  
  /* ==================== TIPOGRAFIA ==================== */
  /* Font Families */
  --font-heading: 'Jairo', serif;
  --font-display: 'Superbusy Activity', sans-serif;
  --font-body: system-ui, -apple-system, 'Segoe UI', sans-serif;
  --font-mono: 'SF Mono', 'Monaco', monospace;
  
  /* Font Sizes (escala modular 1.250 — major third) */
  --text-xs: 0.64rem;      /* 10.24px */
  --text-sm: 0.8rem;       /* 12.8px */
  --text-base: 1rem;       /* 16px — base */
  --text-lg: 1.25rem;      /* 20px */
  --text-xl: 1.563rem;     /* 25px */
  --text-2xl: 1.953rem;    /* 31.25px */
  --text-3xl: 2.441rem;    /* 39.06px */
  --text-4xl: 3.052rem;    /* 48.83px */
  --text-5xl: 3.815rem;    /* 61.04px */
  --text-6xl: 4.768rem;    /* 76.29px */
  
  /* Line Heights */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;
  
  /* Font Weights */
  --font-light: 300;
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  --font-black: 900;
  
  /* ==================== SPACING ==================== */
  /* Escala: 4px base (0.25rem) */
  --space-0: 0;
  --space-1: 0.25rem;    /* 4px */
  --space-2: 0.5rem;     /* 8px */
  --space-3: 0.75rem;    /* 12px */
  --space-4: 1rem;       /* 16px */
  --space-5: 1.25rem;    /* 20px */
  --space-6: 1.5rem;     /* 24px */
  --space-8: 2rem;       /* 32px */
  --space-10: 2.5rem;    /* 40px */
  --space-12: 3rem;      /* 48px */
  --space-16: 4rem;      /* 64px */
  --space-20: 5rem;      /* 80px */
  --space-24: 6rem;      /* 96px */
  --space-32: 8rem;      /* 128px */
  
  /* ==================== BORDERS ==================== */
  --border-width-0: 0;
  --border-width-1: 1px;
  --border-width-2: 2px;
  --border-width-4: 4px;
  --border-width-8: 8px;
  
  /* Border Radius */
  --radius-none: 0;
  --radius-sm: 0.125rem;   /* 2px */
  --radius-base: 0.25rem;  /* 4px */
  --radius-md: 0.375rem;   /* 6px */
  --radius-lg: 0.5rem;     /* 8px */
  --radius-xl: 0.75rem;    /* 12px */
  --radius-2xl: 1rem;      /* 16px */
  --radius-3xl: 1.5rem;    /* 24px */
  --radius-full: 9999px;
  
  /* Border Colors */
  --border-default: var(--color-cinza-claro);
  --border-muted: var(--color-cinza-claro);
  --border-accent: var(--color-verde-reggae);
  
  /* ==================== SHADOWS ==================== */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-base: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
  --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
  
  /* ==================== Z-INDEX ==================== */
  --z-base: 0;
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-fixed: 300;
  --z-modal-backdrop: 400;
  --z-modal: 500;
  --z-popover: 600;
  --z-tooltip: 700;
  
  /* ==================== BREAKPOINTS ==================== */
  /* Definidos como comentários — usar em @media queries */
  /* --breakpoint-sm: 640px;  */
  /* --breakpoint-md: 768px;  */
  /* --breakpoint-lg: 1024px; */
  /* --breakpoint-xl: 1280px; */
  /* --breakpoint-2xl: 1536px; */
  
  /* ==================== TRANSITIONS ==================== */
  --transition-fast: 150ms;
  --transition-base: 200ms;
  --transition-slow: 300ms;
  --transition-slower: 500ms;
  
  --ease-linear: linear;
  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
}
```

CONFIGURAÇÃO TAILWIND (extender com tokens):
```javascript
// tailwind.config.mjs
/** @type {import('tailwindcss').Config} */
export default {
  content: ['./src/**/*.{astro,html,js,jsx,md,mdx,svelte,ts,tsx,vue}'],
  theme: {
    extend: {
      colors: {
        'verde-reggae': 'var(--color-verde-reggae)',
        'laranja-energia': 'var(--color-laranja-energia)',
        'creme-base': 'var(--color-creme-base)',
        'azul-indigo': 'var(--color-azul-indigo)',
        'amarelo-sol': 'var(--color-amarelo-sol)',
      },
      fontFamily: {
        heading: ['var(--font-heading)'],
        display: ['var(--font-display)'],
        body: ['var(--font-body)'],
        mono: ['var(--font-mono)'],
      },
      fontSize: {
        xs: 'var(--text-xs)',
        sm: 'var(--text-sm)',
        base: 'var(--text-base)',
        lg: 'var(--text-lg)',
        xl: 'var(--text-xl)',
        '2xl': 'var(--text-2xl)',
        '3xl': 'var(--text-3xl)',
        '4xl': 'var(--text-4xl)',
        '5xl': 'var(--text-5xl)',
        '6xl': 'var(--text-6xl)',
      },
      spacing: {
        // Tailwind já tem escala 4px, mas garantir consistência
        0: 'var(--space-0)',
        1: 'var(--space-1)',
        2: 'var(--space-2)',
        3: 'var(--space-3)',
        4: 'var(--space-4)',
        5: 'var(--space-5)',
        6: 'var(--space-6)',
        8: 'var(--space-8)',
        10: 'var(--space-10)',
        12: 'var(--space-12)',
        16: 'var(--space-16)',
        20: 'var(--space-20)',
        24: 'var(--space-24)',
        32: 'var(--space-32)',
      },
      borderRadius: {
        none: 'var(--radius-none)',
        sm: 'var(--radius-sm)',
        base: 'var(--radius-base)',
        md: 'var(--radius-md)',
        lg: 'var(--radius-lg)',
        xl: 'var(--radius-xl)',
        '2xl': 'var(--radius-2xl)',
        '3xl': 'var(--radius-3xl)',
        full: 'var(--radius-full)',
      },
      boxShadow: {
        sm: 'var(--shadow-sm)',
        base: 'var(--shadow-base)',
        md: 'var(--shadow-md)',
        lg: 'var(--shadow-lg)',
        xl: 'var(--shadow-xl)',
        '2xl': 'var(--shadow-2xl)',
        inner: 'var(--shadow-inner)',
      },
      zIndex: {
        dropdown: 'var(--z-dropdown)',
        sticky: 'var(--z-sticky)',
        fixed: 'var(--z-fixed)',
        'modal-backdrop': 'var(--z-modal-backdrop)',
        modal: 'var(--z-modal)',
        popover: 'var(--z-popover)',
        tooltip: 'var(--z-tooltip)',
      },
      transitionDuration: {
        fast: 'var(--transition-fast)',
        base: 'var(--transition-base)',
        slow: 'var(--transition-slow)',
        slower: 'var(--transition-slower)',
      },
    },
  },
  plugins: [],
}
```

COMPONENTES BASE (design system):
```astro
{/* src/components/ui/Button.astro */}
---
interface Props {
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost'
  size?: 'sm' | 'md' | 'lg'
  href?: string
  type?: 'button' | 'submit'
}

const { variant = 'primary', size = 'md', href, type = 'button' } = Astro.props

const baseClasses = 'inline-flex items-center justify-center font-medium transition-base rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2'

const variantClasses = {
  primary: 'bg-verde-reggae text-creme-base hover:bg-verde-reggae/90 focus:ring-verde-reggae',
  secondary: 'bg-laranja-energia text-creme-base hover:bg-laranja-energia/90 focus:ring-laranja-energia',
  outline: 'border-2 border-verde-reggae text-verde-reggae hover:bg-verde-reggae hover:text-creme-base focus:ring-verde-reggae',
  ghost: 'text-verde-reggae hover:bg-verde-reggae/10 focus:ring-verde-reggae',
}

const sizeClasses = {
  sm: 'px-3 py-1.5 text-sm',
  md: 'px-4 py-2 text-base',
  lg: 'px-6 py-3 text-lg',
}

const classes = `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]}`

const Tag = href ? 'a' : 'button'
---

<Tag
  class={classes}
  href={href}
  type={href ? undefined : type}
  {...Astro.props}
>
  <slot />
</Tag>
```

```astro
{/* src/components/ui/Card.astro */}
---
interface Props {
  variant?: 'default' | 'elevated' | 'outlined'
  padding?: 'none' | 'sm' | 'md' | 'lg'
}

const { variant = 'default', padding = 'md' } = Astro.props

const variantClasses = {
  default: 'bg-creme-base',
  elevated: 'bg-creme-base shadow-lg',
  outlined: 'bg-creme-base border-2 border-cinza-claro',
}

const paddingClasses = {
  none: '',
  sm: 'p-4',
  md: 'p-6',
  lg: 'p-8',
}

const classes = `rounded-xl ${variantClasses[variant]} ${paddingClasses[padding]}`
---

<div class={classes}>
  <slot />
</div>
```

PROIBIÇÕES:
- Hardcode de cores hex (#006a47) diretamente em componentes — usar tokens
- Valores de espaçamento arbitrários (margin: 17px) — usar escala definida
- Font sizes aleatórios (font-size: 23px) — usar escala modular
- Criar componentes visuais sem usar design system existente
- Adicionar novas cores sem documentar no tokens.css
- Usar !important para overrides — refatorar hierarquia de classes
- Criar variantes de componentes sem consistência (Button com 10 variants diferentes)

EXEMPLO ERRADO:
```astro
{/* ❌ ERRADO: Valores hardcoded sem tokens */}
<div style="background-color: #006a47; padding: 17px; border-radius: 9px;">
  <h2 style="font-size: 28px; color: #fefbdf; margin-bottom: 13px;">
    STL Festival
  </h2>
</div>

{/* ❌ ERRADO: Classes Tailwind customizadas sem tokens */}
<button class="bg-[#ff4d2d] px-[23px] py-[11px] text-[19px]">
  Comprar
</button>
```

EXEMPLO CORRETO:
```astro
{/* ✅ CORRETO: Tokens via Tailwind */}
<div class="bg-verde-reggae p-6 rounded-xl">
  <h2 class="font-heading text-3xl text-creme-base mb-4">
    STL Festival
  </h2>
</div>

{/* ✅ CORRETO: Componente do design system */}
<Button variant="secondary" size="lg">
  Comprar Ingresso
</Button>

{/* ✅ CORRETO: Tokens via CSS custom properties */}
<style>
  .hero-title {
    font-family: var(--font-display);
    font-size: var(--text-5xl);
    color: var(--text-primary);
    margin-bottom: var(--space-8);
  }
</style>
```

TIPOGRAFIA — HIERARQUIA:
| Elemento | Font | Size | Weight | Usage |
|----------|------|------|--------|-------|
| H1 (Hero) | Superbusy Activity | 5xl-6xl | bold | Título principal da página |
| H2 (Section) | Jairo | 3xl-4xl | bold | Títulos de seções |
| H3 (Subsection) | Jairo | 2xl | semibold | Subtítulos |
| Body | System UI | base | normal | Texto corrido |
| Small | System UI | sm | normal | Metadata, captions |
| Button | System UI | base-lg | medium | CTAs |

CHECKLIST PRE-PR:
- [ ] Nenhum valor de cor hardcoded (hex) — todos via tokens
- [ ] Font sizes usam escala modular definida em tokens
- [ ] Espaçamentos usam escala 4px (Tailwind ou custom properties)
- [ ] Componentes UI reutilizáveis (Button, Card) criados no design system
- [ ] Tailwind config extendido com tokens do projeto
- [ ] Nenhum uso de valores arbitrários sem justificativa ([17px], [#abc123])
- [ ] Hierarquia tipográfica respeitada (H1 apenas uma vez, etc.)
- [ ] Transições usam durações definidas em tokens
- [ ] Z-index usado de forma organizada via tokens (não valores aleatórios)
